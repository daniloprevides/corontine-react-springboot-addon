{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar CustomComponent_1 = __importStar(require(\"./CustomComponent\"));\n\nvar componentAttributes = null;\nvar componentProperties = null;\nvar elementName = null;\nvar rootComponent = null;\n\nvar ReactWebComponent =\n/** @class */\nfunction () {\n  function ReactWebComponent() {}\n\n  ReactWebComponent.setAttributes = function (attributes) {\n    componentAttributes = attributes;\n  };\n\n  ReactWebComponent.setProperties = function (properties) {\n    componentProperties = properties;\n  };\n\n  ReactWebComponent.render = function (App, name, option) {\n    rootComponent = App;\n    elementName = name;\n    this.validateDependencies();\n    CustomComponent_1.setComponentAttributes(componentAttributes);\n    CustomComponent_1.setComponentProperties(componentProperties);\n    CustomComponent_1.setRootComponent(rootComponent);\n\n    if (option) {\n      CustomComponent_1.setMode(option.shadow);\n    }\n\n    this.setComponentProperties();\n    customElements.define(elementName, CustomComponent_1.default);\n  };\n\n  ReactWebComponent.setComponentProperties = function () {\n    if (!rootComponent) {\n      return;\n    }\n\n    var properties = __assign({}, componentProperties);\n\n    var propertyMap = {};\n    Object.keys(properties).forEach(function (key) {\n      var property = {\n        configurable: true,\n        enumerable: true,\n        get: function get() {\n          return properties[key];\n        },\n        set: function set(newValue) {\n          var oldValue = properties[key];\n          properties[key] = newValue;\n          this.reactPropsChangedCallback(key, oldValue, newValue);\n        }\n      };\n      propertyMap[key] = property;\n    });\n    Object.defineProperties(CustomComponent_1.default.prototype, propertyMap);\n  };\n\n  ReactWebComponent.validateDependencies = function () {\n    if (!componentAttributes) {\n      throw Error('Cannot define custom element: Attributes have not been set.');\n    }\n\n    if (!componentProperties) {\n      throw Error('Cannot define custom element: Properties have not been set.');\n    }\n\n    if (!rootComponent) {\n      throw Error('Cannot define custom element: Root Component have not been set.');\n    }\n\n    if (!elementName) {\n      throw Error('Cannot define custom element: Element name has not been set.');\n    }\n  };\n\n  return ReactWebComponent;\n}();\n\nexports.ReactWebComponent = ReactWebComponent;","map":null,"metadata":{},"sourceType":"script"}