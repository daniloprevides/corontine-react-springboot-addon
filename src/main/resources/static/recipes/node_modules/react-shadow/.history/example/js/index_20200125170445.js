import React, { useState, useRef, useLayoutEffect } from "react";
import root from "react-shadow";

export default function App() {
  const [width, setWidth] = useState(0);
  const [height, setHeight] = useState(0);
  const rootRef = useRef();

  useLayoutEffect(() => {
    console.log(rootRef);
    if (rootRef.current) {
      setWidth(rootRef.current.clientWidth);
      setHeight(rootRef.current.clientHeight);
    }
  }, [width, height]);

  return (
    <root.div className="App" ref={rootRef}>
      <h1>Shadow DOM Example</h1>
      <p>This is a test to see if this works</p>

      <p>Width: {width}</p>
      <p>Width: {height}</p>
      <button onClick={() => setWidth(20)}>Re-render</button>
    </root.div>
  );
}
